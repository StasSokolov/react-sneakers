(this["webpackJsonpreact-sneakers"]=this["webpackJsonpreact-sneakers"]||[]).push([[0],{11:function(e,t,c){e.exports={overlay:"Basket_overlay__2XBg3",overlayVisible:"Basket_overlayVisible__2cU93",drawer:"Basket_drawer__2TKAf",items:"Basket_items__3mkUw",cart_item:"Basket_cart_item__2w72-",cart_item_info:"Basket_cart_item_info__1Yeet",remove_btn:"Basket_remove_btn__2oWLw",cart_total_block:"Basket_cart_total_block__2uq1e",greenButton:"Basket_greenButton__O5ovO",basketEmpty:"Basket_basketEmpty__QlvUf"}},20:function(e,t,c){e.exports={content:"Card_content__1AEDp",content_card:"Card_content_card__2SHux",content_card_like:"Card_content_card_like__3Sa8M",content_card_info:"Card_content_card_info__3F8me"}},41:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(34),s=c.n(r),i=(c(41),c(42),c(18)),o=c(6),d=c.n(o),l=c(12),j=c(4),b=c(15),u=Object(a.createContext)([]),m=function(){var e=Object(a.useContext)(u),t=e.basketItems,c=e.setBasketItems,n=t.reduce((function(e,t){return+t.price+ +e}),0);return{basketItems:t,setBasketItems:c,totalPrice:n}},h=c(1),x=function(e){var t=e.onClickCart,c=m().totalPrice;return Object(h.jsxs)("header",{className:"header d-flex justify-between p-40",children:[Object(h.jsx)(b.b,{to:"/",children:Object(h.jsxs)("div",{className:"header-left d-flex align-center",children:[Object(h.jsx)("img",{className:"mr-15",width:40,height:40,src:"/img/logo.png",alt:"logo"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{className:"text-uppercase",children:"React Sneakers"}),Object(h.jsx)("p",{className:"opacity-5",children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043b\u0443\u0447\u0448\u0438\u0445 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043e\u043a"})]})]})}),Object(h.jsxs)("ul",{className:"d-flex align-center",children:[Object(h.jsxs)("li",{onClick:t,className:"mr-30 cu-p",children:[Object(h.jsx)("img",{className:"mr-10",width:18,height:18,src:"/img/basket.svg",alt:"basket"}),Object(h.jsxs)("span",{children:[c," \u0440\u0443\u0431."]})]}),Object(h.jsx)(b.b,{to:"/favorites",children:Object(h.jsx)("li",{className:"mr-30",children:Object(h.jsx)("img",{width:20,height:20,src:"/img/likes.svg",alt:"likes"})})}),Object(h.jsx)(b.b,{to:"/orders",children:Object(h.jsx)("li",{children:Object(h.jsx)("img",{width:20,height:20,src:"/img/user.svg",alt:"user"})})})]})]})},O=c(11),p=c.n(O),f=function(e){var t=e.title,c=e.description,n=e.image,r=Object(a.useContext)(u).onClose;return Object(h.jsxs)("div",{className:p.a.basketEmpty,children:[Object(h.jsx)("img",{className:"mb-20",src:n,alt:"empty box"}),Object(h.jsx)("h2",{children:t}),Object(h.jsx)("p",{className:"opacity-6",children:c}),Object(h.jsxs)("button",{onClick:r,className:"greenButton",children:[Object(h.jsx)("img",{className:"arrowLeft",src:"/img/arrow-right.svg",alt:"Arrow"}),"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"]})]})},v=c(8),g=c.n(v),k=function(e){var t=e.onClose,c=e.removeItemBasket,n=e.items,r=void 0===n?[]:n,s=e.opened,i=Object(a.useState)(!1),o=Object(j.a)(i,2),b=o[0],u=o[1],x=Object(a.useState)(null),O=Object(j.a)(x,2),v=O[0],k=O[1],_=m(),w=_.basketItems,N=_.setBasketItems,y=_.totalPrice,C=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("https://6122542dd980b40017e09224.mockapi.io/orders",{items:w});case 3:t=e.sent,k(t.data.id),u(!0),N([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437 :(");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"".concat(p.a.overlay,"  ").concat(s?p.a.overlayVisible:" "),children:Object(h.jsxs)("div",{className:p.a.drawer,children:[Object(h.jsxs)("h2",{className:"d-flex justify-between mb-30",children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430 ",Object(h.jsx)("img",{onClick:t,className:"cu-p",src:"img/delete.svg",alt:"delete"})]}),r.length>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:p.a.items,children:r.map((function(e){var t=e.name,a=e.price,n=e.id,r=e.img;return Object(h.jsxs)("div",{className:p.a.cart_item,children:[Object(h.jsx)("img",{width:70,height:70,src:r,alt:"Sneakers"}),Object(h.jsxs)("div",{className:p.a.cart_item_info,children:[Object(h.jsx)("h5",{className:"mb-5",children:t}),Object(h.jsx)("b",{children:a})]}),Object(h.jsx)("img",{onClick:function(){return function(e){c(e)}(n)},className:p.a.remove_btn,src:"img/delete.svg",alt:"delete"})]},n)}))}),Object(h.jsxs)("div",{className:p.a.cart_total_block,children:[Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{children:"\u0418\u0442\u043e\u0433\u043e: "}),Object(h.jsx)("div",{}),Object(h.jsxs)("b",{children:[y," \u0440\u0443\u0431. "]})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{children:"\u041d\u0430\u043b\u043e\u0433 5%: "}),Object(h.jsx)("div",{}),Object(h.jsxs)("b",{children:[y/100*5," \u0440\u0443\u0431. "]})]})]}),Object(h.jsxs)("button",{onClick:C,className:"greenButton",children:["\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437 ",Object(h.jsx)("img",{src:"/img/arrow-right.svg",alt:"arrow"})]})]})]}):Object(h.jsx)(f,{title:b?"\u0417\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d!":"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430\u044f",image:b?"/img/done.jpg":"/img/emptyBox.png",description:b?"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 #".concat(v," \u0441\u043a\u043e\u0440\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043a\u0443\u0440\u044c\u0435\u0440\u0441\u043a\u043e\u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435"):"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u043f\u0430\u0440\u0443 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043e\u043a, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437."})]})})},_=c(2),w=c(14),N=c(20),y=c.n(N),C=c(36),B=function(){return Object(h.jsxs)(C.a,{speed:2,width:160,height:165,viewBox:"20 0 150 150",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(h.jsx)("rect",{x:"1",y:"0",rx:"0",ry:"0",width:"160",height:"58"}),Object(h.jsx)("rect",{x:"1",y:"68",rx:"0",ry:"0",width:"113",height:"9"}),Object(h.jsx)("rect",{x:"1",y:"84",rx:"0",ry:"0",width:"82",height:"8"}),Object(h.jsx)("rect",{x:"1",y:"102",rx:"10",ry:"10",width:"68",height:"11"}),Object(h.jsx)("rect",{x:"111",y:"92",rx:"9",ry:"9",width:"35",height:"23"})]})},S=function(e){var t=e.name,c=e.price,n=e.img,r=e.id,s=e.onPlus,i=e.isLoading,o=e.onFavorite,d=e.favorited,l=void 0!==d&&d,b=Object(a.useState)(l),m=Object(j.a)(b,2),x=m[0],O=m[1],p=Object(a.useContext)(u).getAddedItems;return i?Object(h.jsx)(B,{}):Object(h.jsxs)("div",{className:y.a.content_card,children:[Object(h.jsx)("div",{className:y.a.content_card_like,children:o&&Object(h.jsx)("img",{onClick:function(){return o({name:t,price:c,img:n,id:r}),void O(!x)},width:35,height:35,src:x?"/img/like-card-active.svg":"/img/like-card.svg",alt:"Like"})}),Object(h.jsx)("img",{width:133,height:112,src:n,alt:"shoes"}),Object(h.jsx)("h5",{children:t}),Object(h.jsxs)("div",{className:y.a.content_card_info,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"\u0426\u0435\u043d\u0430:"}),Object(h.jsx)("b",{children:c})]}),s&&Object(h.jsx)("img",{onClick:function(){return s(e={name:t,price:c,parentId:r,img:n,id:r}),void p(e.id);var e},className:"cu-p",src:p(r)?"/img/added.svg":"/img/add.svg",alt:"add"})]})]})},I=function(){var e=Object(a.useContext)(u),t=e.items,c=e.searchValue,n=e.isLoading,r=e.clearSearch,s=e.onSearchItem,o=e.onAddToCart,d=e.onAddFavorite;return Object(h.jsxs)("div",{className:"content p-40",children:[Object(h.jsxs)("div",{className:"d-flex justify-between align-center mb-40",children:[Object(h.jsx)("h1",{children:c?"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443: '".concat(c,"'"):"\u0412\u0441\u0435 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043a\u0438"}),Object(h.jsxs)("div",{className:"search-block",children:[Object(h.jsx)("img",{src:"/img/search.svg",alt:"Search"}),c&&Object(h.jsx)("img",{onClick:r,className:"clear",src:"img/delete.svg",alt:"clear"}),Object(h.jsx)("input",{value:c,onChange:s,type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a...."})]})]}),Object(h.jsx)("div",{className:"d-flex flex-wrap",children:function(){var e=t.filter((function(e){return e.name.toLowerCase().includes(c)}));return(n?Object(i.a)(Array(12)):e).map((function(e,t){return Object(h.jsx)(S,Object(w.a)({isLoading:n,onFavorite:d,onPlus:o},e),t)}))}()})]})},A=function(){var e=Object(a.useContext)(u),t=e.favorites,c=e.onAddFavorite,n=e.onAddToCart;return Object(h.jsxs)("div",{className:"content p-40",children:[Object(h.jsx)("div",{className:"d-flex justify-between align-center mb-40",children:Object(h.jsx)("h1",{children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"})}),Object(h.jsx)("div",{className:"d-flex flex-wrap",children:t.length>0?t.map((function(e){return Object(h.jsx)(S,Object(w.a)({onFavorite:c,favorited:!0,onPlus:n},e),e.id)})):Object(h.jsx)(f,{image:"/img/sad.png",description:"\u0412\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u043b\u0438 \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438",title:"\u0417\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u043d\u0435\u0442 :("})})]})},F=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useContext)(u),s=(r.onAddFavorite,r.onAddToCart,Object(a.useState)(!0)),i=Object(j.a)(s,2),o=i[0],b=i[1];Object(a.useEffect)((function(){(function(){var e=Object(l.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://6122542dd980b40017e09224.mockapi.io/orders");case 3:t=e.sent,c=t.data,n(c.map((function(e){return e.items})).flat()),b(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),alert("\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b ;("),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(h.jsxs)("div",{className:"content p-40",children:[Object(h.jsx)("div",{className:"d-flex justify-between align-center mb-40",children:Object(h.jsx)("h1",{children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"})}),Object(h.jsx)("div",{className:"d-flex flex-wrap",children:c.length>0?c.map((function(e){return o?Object(h.jsx)(B,{}):Object(h.jsx)(S,Object(w.a)({},e),e.id)})):Object(h.jsx)(f,{image:"/img/sad.png",description:"\u0412\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u043b\u0438",title:"\u0417\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435\u0442 :("})})]})},L=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(j.a)(r,2),o=s[0],b=s[1],m=Object(a.useState)([]),O=Object(j.a)(m,2),p=O[0],f=O[1],v=Object(a.useState)(""),w=Object(j.a)(v,2),N=w[0],y=w[1],C=Object(a.useState)(!1),B=Object(j.a)(C,2),S=B[0],L=B[1],E=Object(a.useState)(!0),P=Object(j.a)(E,2),T=P[0],V=P[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(d.a.mark((function e(){var t,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://6122542dd980b40017e09224.mockapi.io/cart");case 3:return t=e.sent,e.next=6,g.a.get("https://6122542dd980b40017e09224.mockapi.io/favorite");case 6:return c=e.sent,e.next=9,g.a.get("https://6122542dd980b40017e09224.mockapi.io/items");case 9:a=e.sent,V(!1),b(t.data),f(c.data),n(a.data),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435!(");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var U=function(){var e=Object(l.a)(d.a.mark((function e(t){var c,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(c=o.find((function(e){return e.parentId==t.id})))){e.next=8;break}return b((function(e){return e.filter((function(e){return e.parentId!==t.id}))})),e.next=6,g.a.delete("https://6122542dd980b40017e09224.mockapi.io/cart/".concat(c.id));case 6:e.next=13;break;case 8:return e.next=10,g.a.post("https://6122542dd980b40017e09224.mockapi.io/cart",t);case 10:a=e.sent,n=a.data,b((function(e){return[].concat(Object(i.a)(e),[n])}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443!(");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!p.find((function(e){return e.id===t.id}))){e.next=6;break}g.a.delete("https://6122542dd980b40017e09224.mockapi.io/favorite/".concat(t.id)),f((function(e){return e.filter((function(e){return e.id!==t.id}))})),e.next=10;break;case 6:return e.next=8,g.a.post("https://6122542dd980b40017e09224.mockapi.io/favorite",t);case 8:c=e.sent,f((function(e){return[].concat(Object(i.a)(e),[c.data])}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435!");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(u.Provider,{value:{items:c,favorites:p,basketItems:o,setBasketItems:b,searchValue:N,clearSearch:function(){y("")},cartOpened:S,isLoading:T,onAddFavorite:J,onAddToCart:U,onSearchItem:function(e){y(e.target.value)},getAddedItems:function(e){return o.some((function(t){return t.parentId==e}))},onClose:function(){return L(!1)}},children:Object(h.jsxs)("div",{className:"wrapper clear",children:[S&&Object(h.jsx)(k,{opened:S,items:o,removeItemBasket:function(e){g.a.delete("https://6122542dd980b40017e09224.mockapi.io/cart/".concat(e)),b((function(t){return t.filter((function(t){return t.id!==e}))}))},onClose:function(){return L(!1)}}),Object(h.jsx)(x,{onClickCart:function(){return L(!0)}}),Object(h.jsx)(_.a,{exact:!0,path:"/",children:Object(h.jsx)(I,{})}),Object(h.jsx)(_.a,{path:"/favorites",children:Object(h.jsx)(A,{})}),Object(h.jsx)(_.a,{path:"/orders",children:Object(h.jsx)(F,{})})]})})};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(b.a,{children:Object(h.jsx)(L,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.b0d04ff0.chunk.js.map